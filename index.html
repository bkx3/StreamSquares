<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Stream Deck Icon Maker</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <main class="app">
      <section class="preview-panel" aria-label="Preview">
        <div class="preview-frame" id="drop-zone" tabindex="0" aria-label="Icon preview. Drag and drop an image to load.">
          <canvas id="preview-canvas" width="512" height="512" aria-hidden="true"></canvas>
          <div class="drop-hint" id="drop-hint">Drop SVG or PNG</div>
        </div>
        <div class="preview-actions">
          <label class="toggle">
            <input type="checkbox" id="toggle-guides" />
            <span>Show guides</span>
          </label>
          <button type="button" id="reset-btn">Reset</button>
        </div>
      </section>

      <aside class="sidebar">
        <header>
          <h1>Stream Deck Icon Maker</h1>
          <p>Create 512×512 icons with layers and export as PNG.</p>
        </header>

        <section class="panel" aria-labelledby="symbol-heading">
          <h2 id="symbol-heading">Symbol</h2>
          <div class="tab-group" role="tablist" aria-label="Symbol source">
            <button type="button" class="tab active" id="tab-upload" role="tab" aria-controls="panel-upload" aria-selected="true">Upload</button>
            <button type="button" class="tab" id="tab-library" role="tab" aria-controls="panel-library" aria-selected="false">Library</button>
          </div>
          <div class="tab-panel active" id="panel-upload" role="tabpanel" aria-labelledby="tab-upload">
            <div class="field">
              <label for="symbol-input">Upload SVG or PNG</label>
              <input type="file" id="symbol-input" accept="image/svg+xml,image/png" />
            </div>
          </div>
          <div class="tab-panel" id="panel-library" role="tabpanel" aria-labelledby="tab-library" hidden>
            <div class="field">
              <label for="icon-search">Search icons</label>
              <input type="text" id="icon-search" placeholder="Search icons…" />
            </div>
            <div class="icon-grid" id="icon-grid" role="listbox" aria-label="Icon library"></div>
          </div>
          <div class="symbol-meta" id="symbol-meta">
            <span id="symbol-name">No symbol loaded</span>
            <button type="button" id="clear-symbol">Clear Symbol</button>
          </div>
          <div class="thumb" id="symbol-thumb" aria-hidden="true"></div>

          <div class="field">
            <label for="symbol-size">Size</label>
            <input type="range" id="symbol-size" min="0" max="140" value="60" />
            <span class="value" id="symbol-size-value">60%</span>
          </div>
          <div class="field">
            <label for="symbol-x">Position X</label>
            <input type="range" id="symbol-x" min="-100" max="100" value="0" />
            <span class="value" id="symbol-x-value">0%</span>
          </div>
          <div class="field">
            <label for="symbol-y">Position Y</label>
            <input type="range" id="symbol-y" min="-100" max="100" value="0" />
            <span class="value" id="symbol-y-value">0%</span>
          </div>
          <div class="field">
            <label for="symbol-rotation">Rotation</label>
            <input type="range" id="symbol-rotation" min="-180" max="180" value="0" />
            <span class="value" id="symbol-rotation-value">0°</span>
          </div>
          <div class="field">
            <label for="symbol-opacity">Opacity</label>
            <input type="range" id="symbol-opacity" min="0" max="100" value="100" />
            <span class="value" id="symbol-opacity-value">100%</span>
          </div>
          <div class="field inline">
            <label class="toggle" for="symbol-tint">
              <input type="checkbox" id="symbol-tint" />
              <span>Tint</span>
            </label>
            <input type="color" id="symbol-tint-color" value="#ffffff" aria-label="Tint color" />
          </div>
        </section>

        <section class="panel" aria-labelledby="background-heading">
          <h2 id="background-heading">Background</h2>
          <div class="field">
            <label for="background-mode">Mode</label>
            <select id="background-mode">
              <option value="solid">Solid</option>
              <option value="gradient">Linear Gradient</option>
            </select>
          </div>
          <div class="field">
            <label for="background-solid">Solid color</label>
            <input type="color" id="background-solid" value="#202833" />
          </div>
          <div class="field">
            <label for="background-gradient-start">Gradient start</label>
            <input type="color" id="background-gradient-start" value="#1b1f2a" />
          </div>
          <div class="field">
            <label for="background-gradient-end">Gradient end</label>
            <input type="color" id="background-gradient-end" value="#3a465b" />
          </div>
          <div class="field">
            <label for="background-gradient-angle">Gradient angle</label>
            <input type="range" id="background-gradient-angle" min="0" max="360" value="45" />
            <span class="value" id="background-gradient-angle-value">45°</span>
          </div>
        </section>

        <section class="panel" aria-labelledby="text-heading">
          <h2 id="text-heading">Text</h2>
          <div class="field">
            <label for="text-value">Label</label>
            <input type="text" id="text-value" placeholder="Optional text" />
          </div>
          <div class="field">
            <label for="text-font">Font</label>
            <select id="text-font">
              <option value="'SF Pro', system-ui">SF Pro / system</option>
              <option value="system-ui">system-ui</option>
              <option value="Arial, sans-serif">Arial</option>
              <option value="Helvetica, sans-serif">Helvetica</option>
            </select>
          </div>
          <div class="field">
            <label for="text-size">Size</label>
            <input type="range" id="text-size" min="8" max="96" value="28" />
            <span class="value" id="text-size-value">28</span>
          </div>
          <div class="field">
            <label for="text-weight">Weight</label>
            <select id="text-weight">
              <option value="400">400</option>
              <option value="600">600</option>
              <option value="700">700</option>
            </select>
          </div>
          <div class="field">
            <label for="text-color">Color</label>
            <input type="color" id="text-color" value="#ffffff" />
          </div>
          <div class="field">
            <label for="text-position">Position</label>
            <select id="text-position">
              <option value="bottom">Bottom</option>
              <option value="center">Center</option>
              <option value="top">Top</option>
            </select>
          </div>
          <div class="field">
            <label for="text-offset">Offset Y</label>
            <input type="range" id="text-offset" min="0" max="120" value="24" />
            <span class="value" id="text-offset-value">24</span>
          </div>
          <div class="field inline">
            <label class="toggle" for="text-stroke">
              <input type="checkbox" id="text-stroke" />
              <span>Stroke</span>
            </label>
            <input type="color" id="text-stroke-color" value="#000000" aria-label="Stroke color" />
          </div>
          <div class="field">
            <label for="text-stroke-width">Stroke width</label>
            <input type="range" id="text-stroke-width" min="0" max="8" value="2" />
            <span class="value" id="text-stroke-width-value">2</span>
          </div>
        </section>

        <section class="panel actions" aria-label="Export">
          <button type="button" id="export-btn" class="primary">Export PNG</button>
          <button type="button" id="copy-btn">Copy to Clipboard</button>
          <div class="status" id="status" role="status" aria-live="polite"></div>
        </section>
      </aside>
    </main>

    <canvas id="render-canvas" width="512" height="512" hidden></canvas>
    <script src="app.js"></script>
  </body>
</html>
